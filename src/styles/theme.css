/*
 * Theme Variables & Tailwind CSS v4 Configuration
 * Based on Typography Best Practices
 */

@theme {
  /* ===========================================
   * Typography - Font Stacks
   * =========================================== */
  
  /* Sans-serif: System fonts with CJK fallbacks */
  --font-sans: 
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    'Segoe UI',
    Roboto,
    'Helvetica Neue',
    Arial,
    /* CJK fonts */
    'Noto Sans TC',
    'PingFang TC',
    'Microsoft JhengHei',
    'Hiragino Sans GB',
    sans-serif,
    /* Emoji fallback */
    'Apple Color Emoji',
    'Segoe UI Emoji';
  
  /* Monospace: Code fonts with CJK fallbacks */
  --font-mono: 
    ui-monospace,
    SFMono-Regular,
    'SF Mono',
    Menlo,
    Monaco,
    Consolas,
    'Liberation Mono',
    'Courier New',
    /* CJK monospace */
    'Noto Sans Mono CJK TC',
    monospace;

  /* ===========================================
   * Typography - Font Sizes
   * Base: 16px minimum, responsive scaling
   * =========================================== */
  --font-size-xs: 0.75rem;     /* 12px */
  --font-size-sm: 0.875rem;    /* 14px */
  --font-size-base: 1rem;      /* 16px */
  --font-size-lg: 1.125rem;    /* 18px */
  --font-size-xl: 1.25rem;     /* 20px */
  --font-size-2xl: 1.5rem;     /* 24px */
  --font-size-3xl: 1.875rem;   /* 30px */
  --font-size-4xl: 2.25rem;    /* 36px */

  /* ===========================================
   * Typography - Line Heights
   * Body: 1.7 for CJK readability
   * Headings: 1.3 for tighter display
   * =========================================== */
  --line-height-tight: 1.3;
  --line-height-normal: 1.7;
  --line-height-relaxed: 1.8;

  /* ===========================================
   * Layout - Content Width
   * Optimal line length: 50-75 characters (~65ch)
   * =========================================== */
  --width-content: 65ch;
  --width-content-wide: 80ch;
  --width-page: 1200px;

  /* ===========================================
   * Spacing
   * =========================================== */
  --spacing-xs: 0.25rem;   /* 4px */
  --spacing-sm: 0.5rem;    /* 8px */
  --spacing-md: 1rem;      /* 16px */
  --spacing-lg: 1.5rem;    /* 24px */
  --spacing-xl: 2rem;      /* 32px */
  --spacing-2xl: 3rem;     /* 48px */

  /* ===========================================
   * Colors - Light Theme (WCAG AA Compliant)
   * Body text contrast: >= 4.5:1
   * =========================================== */
  --color-background: #ffffff;
  --color-secondary: #f8fafc;
  --color-foreground: #1a1a1a;       /* Contrast 16:1 on white */
  --color-muted: #525252;            /* Contrast 7:1 on white */
  --color-primary: #2563eb;          /* Contrast 4.5:1 on white */
  --color-primary-hover: #1d4ed8;
  --color-border: #e5e5e5;
  --color-code-bg: #f5f5f5;
  --color-code-text: #1a1a1a;

  /* Graph Colors */
  --color-graph-node: #2563eb;
  --color-graph-node-current: #dc2626;
  --color-graph-link: #a3a3a3;
  --color-graph-text: #1a1a1a;

  /* Blockquote */
  --color-blockquote-border: #2563eb;
  --color-blockquote-bg: #f8fafc;

  /* Border Radius */
  --radius-sm: 0.25rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
}

/* ===========================================
 * Dark Theme (WCAG AA Compliant)
 * =========================================== */
[data-theme="dark"] {
  --color-background: #0a0a0a;
  --color-secondary: #171717;
  --color-foreground: #fafafa;       /* Contrast 19:1 on #0a0a0a */
  --color-muted: #a3a3a3;            /* Contrast 7:1 on #0a0a0a */
  --color-primary: #60a5fa;          /* Contrast 5.5:1 on #0a0a0a */
  --color-primary-hover: #93c5fd;
  --color-border: #262626;
  --color-code-bg: #171717;
  --color-code-text: #fafafa;

  /* Graph Colors (Dark) */
  --color-graph-node: #60a5fa;
  --color-graph-node-current: #f87171;
  --color-graph-link: #525252;
  --color-graph-text: #fafafa;

  /* Blockquote */
  --color-blockquote-border: #60a5fa;
  --color-blockquote-bg: #171717;
}
